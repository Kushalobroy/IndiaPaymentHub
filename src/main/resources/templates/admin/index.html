<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <!-- Include the head fragment -->
        <th:block th:replace="admin/fragments/head :: head"></th:block>
    </head>
    <body class="sb-nav-fixed">
        <th:block th:replace="admin/fragments/nav :: nav"></th:block>
        <script>
            window.onload = function () {
                let successMessage = "[[${success}]]"; // Get success flash attribute
                let errorMessage = "[[${error}]]"; // Get error flash attribute
        
                if (successMessage && successMessage !== "null") {
                    showToast("success", successMessage, "top-right", 5000);
                }
        
                if (errorMessage && errorMessage !== "null") {
                    showToast("danger", errorMessage, "top-right", 5000);
                }
            };
        </script>
        <div id="layoutSidenav">
            <div id="layoutSidenav_nav">
                <th:block th:replace="admin/fragments/sidebar :: sidebar"></th:block>
            </div>
            <div id="layoutSidenav_content">
                <main>
                    <div class="container-fluid px-4">
                        <h1 class="mt-4">Dashboard</h1>
                        <ol class="breadcrumb mb-4">
                            <li class="breadcrumb-item active">Dashboard</li>
                        </ol>
                        <div class="row">
                            <div class="col-xl-3 col-md-6">
                                <div class="card border-top-primary  mb-4">
                                    <div class="card-body d-flex justify-content-between">
                                        <p>Admin <i class="fas fa-user-shield text-primary"></i></p>
                                        <span th:text="${totalAdmins}"></span> 
                                    </div>
                                    
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6">
                                <div class="card border-top-warning  mb-4">
                                    <div class="card-body d-flex justify-content-between">
                                        <p>Users <i class="fas fa-users text-warning"></i></p>
                                        <span th:text="${totalUsers}"></span> 
                                    </div>
                                    
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6">
                                <div class="card  mb-4 border-top-success">
                                    <div class="card-body d-flex justify-content-between ">
                                        <p>Done Payment <i class="fas fa-check-circle text-success"></i></p>
                                        <span th:text="${totalCompletedPaymentAmount}"> <i class="fas fa-rupee-sign"></i> </span> 
                                    </div>
                                    
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6">
                                <div class="card  mb-4 border-top-danger">
                                    <div class="card-body d-flex justify-content-between">
                                        <p>Pending Payment <i class="fas fa-hourglass-half text-danger"></i></p>
                                        <span th:text="${totalPendingPaymentAmount}"> <i class="fas fa-rupee-sign"></i> </span> 
                                    </div>
                                   
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-6">
                                <div class="card mb-4 border-top-info">
                                    <div class="card-header bg-white">
                                        <i class="fas fa-chart-area me-1"></i>
                                        Day wise Payment
                                    </div>
                                    <div class="card-body"><canvas id="myAreaChart" width="100%" height="40"></canvas></div>
                                </div>
                            </div>
                            <div class="col-xl-6">
                                <div class="card mb-4 border-top-info">
                                    <div class="card-header bg-white">
                                        <i class="fas fa-chart-bar me-1"></i>
                                        Year wise Payment
                                    </div>
                                    <div class="card-body"><canvas id="myBarChart" width="100%" height="40"></canvas></div>
                                </div>
                            </div>
                        </div>
                       
                    </div>
                </main>
                <th:block th:replace="admin/fragments/footer :: footer"></th:block>

            </div>
        </div>
        <th:block th:replace="admin/fragments/scripts :: scripts"></th:block>
    </body>
</html>
